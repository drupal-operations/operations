{
    "name": "drupal/ox",
    "description": "Operations Experience Platform",
    "type": "project",
    "license": "GPL-2.0-or-later",
    "authors": [
        {
            "name": "Jon Pugh",
            "role": "author",
            "email": "jon@thinkdrop.net",
            "homepage": "https://thinkdrop.net"
        }
    ],
    "repositories": [
        {
          "type": "path",
          "url": "src/composer/Plugin/GitSplit"
        },
        {
          "type": "path",
          "url": "src/composer/Plugin/DrupalSettings"
        },
        {
          "type": "path",
          "url": "src/profiles/ox_stock"
        },
        {
          "type": "path",
          "url": "src/modules/operations"
        },
        {
          "type": "path",
          "url": "src/modules/site"
        },
        {
          "type": "path",
          "url": "src/modules/site_manager"
        },
        {
          "type": "composer",
          "url": "https://packages.drupal.org/8"
        }
    ],
    "require": {
        "php": ">=8.0",
        "composer/installers": "^2.1",
        "cweagans/composer-patches": "^1.7",
        "drupal-operations/drupal-settings": "*",
        "drupal-operations/git-split": "*",
        "drupal/admin_toolbar": "^3.4",
        "drupal/core-composer-scaffold": "^9.0.0",
        "drupal/core-recommended": "^9.0.0",
        "drupal/devel": "^5.1",
        "drupal/devel_entity_updates": "^4.1@dev",
        "drupal/operations": "*",
        "drupal/ox_stock": "*",
        "drupal/restui": "^1.21",
        "drupal/site-site": "*",
        "drupal/site_audit": "4.x-dev",
        "drupal/site_audit_server": "^4.0@dev",
        "drupal/site_manager-site_manager": "*",
        "drush/drush": "^11.4.0",
        "symfony/http-client": "5.4.x-dev",
        "vlucas/phpdotenv": "^5.1",
        "webflo/drupal-finder": "^1.2"
    },
    "require-dev": {
        "drupal/core-dev": "^9.0.0",
        "drupal/drupal-extension": "4.2.x-dev"
    },
    "conflict": {
        "drupal/drupal": "*"
    },
    "minimum-stability": "dev",
    "prefer-stable": false,
    "config": {
      "platform": {
        "php": "8.0.0"
      },
        "bin-dir": "bin",
        "discard-changes": true,
        "sort-packages": true,
        "allow-plugins": {
            "composer/installers": true,
            "cweagans/composer-patches": true,
            "drupal/core-composer-scaffold": true,
            "dealerdirect/phpcodesniffer-composer-installer": true,
            "phpstan/extension-installer": true,
            "drupal-operations/git-split": true,
            "php-http/discovery": true,
            "pyrech/composer-changelogs": true
        }
    },
    "autoload": {
        "classmap": [
            "scripts/composer/ScriptHandler.php"
        ],
        "files": ["load.environment.php"],
        "psr-4": {
            "Operations\\Composer\\": "composer"
        }
    },
    "scripts": {
        "drush": "drush",
        "pre-install-cmd": [
            "DrupalProject\\composer\\ScriptHandler::checkComposerVersion"
        ],
        "pre-update-cmd": [
            "DrupalProject\\composer\\ScriptHandler::checkComposerVersion"
        ],
        "post-install-cmd": [
            "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
        ],
        "post-update-cmd": [
            "DrupalProject\\composer\\ScriptHandler::createRequiredFiles"
         ],
        "ox:launch": [
          "@ox:install",
          "@ox:sites:install"
        ],
        "ox:install": [
          "drush si  --yes",
          "drush uli",
          "# OX Stock install wont work to set default theme.",
          "drush cset system.theme default claro -y",
          "# OX Stock profile wont work when site module is in dependencies.",
          "drush en site_manager operations devel devel_entity_updates admin_toolbar key_auth restui -y"
        ],
        "ox:sites:install": [
          "drush @local.mercury si standard --yes",
          "# drush @local.venus si standard --yes",
          "# drush @local.mars si standard --yes",
          "@ox:sites:uli"
        ],
        "ox:sites:uli": [
          "drush uli",
          "drush @local.mercury uli",
          "drush @local.venus uli",
          "drush @local.mars uli"
        ]
    },
    "extra": {
        "drupal-scaffold": {
            "locations": {
                "web-root": "web/"
            }
        },
        "installer-paths": {
            "web/core": ["type:drupal-core"],
            "web/libraries/{$name}": ["type:drupal-library"],
            "web/modules/contrib/{$name}": ["type:drupal-module"],
            "web/profiles/contrib/{$name}": ["type:drupal-profile"],
            "web/themes/contrib/{$name}": ["type:drupal-theme"],
            "drush/Commands/contrib/{$name}": ["type:drupal-drush"]
        },
        "composer-exit-on-patch-failure": true,
        "git-split": {
          "repos": {
            "drush/Commands/contrib/drush-behat-params": "git@github.com:drupal-operations/drush-behat-params.git",
            "src/composer/Plugin/DrupalSettings": "git@github.com:drupal-operations/drupal-settings.git",
            "src/composer/Plugin/GitSplit": "git@github.com:drupal-operations/git-split.git",
            "src/modules/operations": "git@git.drupal.org:project/operations.git",
            "src/modules/site": "git@git.drupal.org:project/site.git",
            "src/modules/site_manager": "git@git.drupal.org:project/site_manager.git",
            "src/profiles/ox_stock": "git@git.drupal.org:project/ox_stock.git"
          }
        },
        "patchLevel": {
            "drupal/core": "-p2"
        },
        "patches": {
        }
    }
}
